@using exam_proctor_system.Models.DTos.ResponseModel
@model ResultResponse
<div class="db-content" style="margin-left: 5px;">
    <div class="container mb-4">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <!-- card body -->
                    <div class="card-body p-10 text-center">
                        <!-- text -->
                        <div class="mb-4">
                            <h2>🎉 Congratulations.</h2>
                            <p class="mb-0 px-lg-8">You are successfully completed the quiz. Now you click on finish to end the exam.</p>
                        </div>
                        <!-- chart -->
                        <div class="d-flex justify-content-center">
                            <div class="proctorResultChart"></div>
                        </div>
                        <!-- text -->
                        <div class="mt-3">
                            <span>
                                Your Score:
                                <span class="text-dark">@Model.Score</span>
                            </span>
                            <br />
                            <span class="mt-2 d-block">
                                Total Score:
                                <span class="text-dark">@Model.TotalScore</span>
                            </span>
                        </div>
                        <!-- btn -->
                        <div class="mt-5">
                            <a href="/" class="btn btn-primary">Finish</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

@section Scripts{
    <script>
                if (document.querySelectorAll(".proctorResultChart").length) {
                    console.log("chart");
            let e = {
                series: [@Model.Percentage],
                chart: {
                    height: 110,
                    width: 110,
                    type: "radialBar"
                },
                grid: {
                    show: false,
                    padding: {
                        left: -15,
                        right: -15,
                        top: -12,
                        bottom: -15
                    }
                },
                colors: [window.theme.success],
                plotOptions: {
                    radialBar: {
                        hollow: {
                            margin: -2,
                            size: "50%",
                            background: [window.theme.lightSuccess]
                        },
                        dataLabels: {
                            showOn: "always",
                            name: {
                                show: true,
                                fontSize: "20px",
                                fontWeight: 600,
                                offsetY: 7
                            },
                            value: {
                                show: false
                            }
                        }
                    }
                },
                stroke: {
                    lineCap: "round"
                },
                labels: ["@Model.Percentage%"]
            };

            new ApexCharts(document.querySelector(".proctorResultChart"), e).render();
        }

    </script>
}